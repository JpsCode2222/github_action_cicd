name: Deploy and Build

on:
    push:
      branches:
          - main

jobs:
    build:
        name: Build Start
        runs-on: ubuntu-latest
        steps:
          - name: Checkout repository
            uses: actions/checkout@v4
          - name: Set up java
            uses: actions/setup-java@v4
            with:
              java-version: '17'
              distribution: 'temurin'
          - name: Testing Start
            run: mvn -B test --file pom.xml

          - name: Build
            run: |
                mvn clean
                mvn -B package --file pom.xml

          - name: Upload JAR file
            uses: actions/upload-artifact@v4
            with:
              name: jar-file
              path: target/*.jar
                
